import pandas as pd
import numpy as np

'''
.loc()具有多种访问方式：
单个标量标签
标签列表
切片对象
一个布尔数组
loc需要两个单/列表/范围运算符，用","分隔。第一个表示行，第二个表示列
'''

df = pd.DataFrame(np.random.randn(8, 4),index = ['a','b','c','d','e','f','g','h'],columns=['A','B','C','D'])
print(df)
print('-----------------------------------------------------')
'''
          A         B         C         D
a  0.492797 -1.848086 -0.958189 -0.500551
b  0.156218  0.083532 -0.381177  1.448934
c  0.333137 -0.719638 -0.067191  0.007550
d  0.488205 -0.102361  0.670160  0.186251
e -0.256800 -0.267432  0.260481  1.375407
f  0.002474 -1.121247  0.540581  1.029679
g  0.082924 -0.431396  0.520053  2.510383
h  0.414647  1.553005 -1.258152 -0.402179
'''

print(df.loc[:,'A'])
print('-----------------------------------------------------')
'''
a    0.492797
b    0.156218
c    0.333137
d    0.488205
e   -0.256800
f    0.002474
g    0.082924
h    0.414647
Name: A, dtype: float64
'''

print (df.loc[:,['A','C']])
print('-----------------------------------------------------')
'''
          A         C
a  0.492797 -0.958189
b  0.156218 -0.381177
c  0.333137 -0.067191
d  0.488205  0.670160
e -0.256800  0.260481
f  0.002474  0.540581
g  0.082924  0.520053
h  0.414647 -1.258152
'''

print (df.loc[['a','b','f','h'],['A','C']])
print('-----------------------------------------------------')
'''
          A         C
a  0.492797 -0.958189
b  0.156218 -0.381177
f  0.002474  0.540581
h  0.414647 -1.258152
'''

print (df.loc['b':'e'])
print('-----------------------------------------------------')
'''
          A         B         C         D
b  0.156218  0.083532 -0.381177  1.448934
c  0.333137 -0.719638 -0.067191  0.007550
d  0.488205 -0.102361  0.670160  0.186251
e -0.256800 -0.267432  0.260481  1.375407
'''

print (df.loc['a']>0)
print('-----------------------------------------------------')
'''
          A         B         C         D
a -1.725291 -0.756546 -0.388001  0.800014
b -1.618228 -0.471417  0.045316 -0.561742
c  1.004178  2.612966 -0.755130 -0.917436
d -1.131730  0.671269  1.596384 -0.071872
e -0.266702  0.438038  1.247962 -2.298587
f  1.084738  0.605456 -1.334105 -0.359045
g -0.242165 -1.534666 -0.514227  1.309489
h  0.272631 -0.543528 -0.039957 -0.087389
-----------------------------------------------------
A    False
B    False
C    False
D     True
Name: a, dtype: bool
'''

'''
.iloc()获得纯整数索引
各种访问方式:
整数
整数列表
系列值
'''
df = pd.DataFrame(np.random.randn(8, 4), columns = ['A', 'B', 'C', 'D'])
print(df)
print('-----------------------------------------------------')
'''
          A         B         C         D
0  1.090206 -1.114725  0.644459  1.039827
1  0.225543  0.279965  0.873693  0.142890
2 -0.302835  0.494170 -0.838174  0.041386
3  0.598278 -0.668452 -0.178087 -0.820927
4 -0.790651 -0.063034  2.229930 -1.308849
5  0.944092  1.064804  0.010639  0.084610
6  0.949287 -0.259325 -0.398709  1.292633
7 -0.155338 -0.234786  1.906574  1.061201
'''

print (df.iloc[:4])
print('-----------------------------------------------------')
'''
          A         B         C         D
0  1.090206 -1.114725  0.644459  1.039827
1  0.225543  0.279965  0.873693  0.142890
2 -0.302835  0.494170 -0.838174  0.041386
3  0.598278 -0.668452 -0.178087 -0.820927
'''

print (df.iloc[1:5, 2:4]) #获取2-4行，3-4列
print('-----------------------------------------------------')
'''
          C         D
1  0.873693  0.142890
2 -0.838174  0.041386
3 -0.178087 -0.820927
4  2.229930 -1.308849
'''

print (df.iloc[[1,3,5],[1,3]]) #获取2、4、6行，2、4列
print('-----------------------------------------------------')
'''
          B         D
1  0.279965  0.142890
3 -0.668452 -0.820927
5  1.064804  0.084610
'''

print (df.iloc[1:3,:]) #获取1-2行及所有列
print('-----------------------------------------------------')
'''
          A         B         C         D
1  0.225543  0.279965  0.873693  0.142890
2 -0.302835  0.494170 -0.838174  0.041386
'''

print (df.iloc[:,1:3]) #获取所有行及2、3列
print('-----------------------------------------------------')
'''
          B         C
0 -1.114725  0.644459
1  0.279965  0.873693
2  0.494170 -0.838174
3 -0.668452 -0.178087
4 -0.063034  2.229930
5  1.064804  0.010639
6 -0.259325 -0.398709
7 -0.234786  1.906574
'''

#在pandas的1.0.0版本开始，移除了Series.ix and DataFrame.ix方法